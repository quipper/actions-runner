{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": [
    "config:recommended",
    ":automergeMinor",
    ":automergeDigest",
    ":reviewer(team:sre-actions-runner)",
    "helpers:pinGitHubActionDigests",
    "github>aquaproj/aqua-renovate-config#2.7.0"
  ],
  "labels": [
    "renovate",
    "renovate/{{depName}}"
  ],
  "customManagers": [
    {
      "customType": "regex",
      "description": "Update actions/runner version",
      "fileMatch": [
        "^Dockerfile"
      ],
      "matchStrings": [
        "RUNNER_VERSION=(?<currentValue>.*?)\\s"
      ],
      "depNameTemplate": "actions/runner",
      "datasourceTemplate": "github-releases",
      "extractVersionTemplate": "^v(?<version>.*)$"
    }
  ],
  "packageRules": [
    {
      "description": "Group actions-runner",
      "matchDepNames": [
        "actions/runner",
        "ghcr.io/actions/actions-runner"
      ],
      "groupName": "actions-runner"
    },
    {
      "description": "Group actions-runner-controller charts",
      "matchDepNames": [
        "gha-runner-scale-set-controller",
        "gha-runner-scale-set"
      ],
      "groupName": "actions-runner-controller-charts"
    }
  ]
}
